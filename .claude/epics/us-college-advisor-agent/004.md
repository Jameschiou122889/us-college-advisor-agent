---
name: 建立預約 Workflow
status: closed
created: 2026-01-16T05:08:57Z
updated: 2026-01-16T10:53:45Z
github: [Will be updated when synced to GitHub]
depends_on: [003]
parallel: false
conflicts_with: []
---

# Task: 建立預約 Workflow

## Description

建立顧問預約的 n8n workflow，收集用戶聯絡資訊並發送 Email 通知給顧問團隊。

## Acceptance Criteria

- [x] n8n Form Trigger 接收預約資訊
- [x] 驗證必填欄位（姓名、聯絡方式）
- [x] 成功發送 Email 給顧問
- [x] 顯示預約成功確認頁
- [x] Email 內容包含用戶資料和推薦結果摘要

## Technical Details

### Workflow 節點
1. **Form Trigger** - 預約表單
2. **Set** - 資料驗證
3. **Send Email** - 通知顧問
4. **Respond to Webhook** - 確認頁

### 表單欄位
- 姓名 (必填)
- 聯絡電話或 LINE ID (必填)
- Email (必填)
- 期望諮詢時間 (選填)
- 備註 (選填)

### Email 內容
```
主旨: [新預約] {姓名} - 美國升學諮詢

預約人資訊:
- 姓名: {name}
- 電話/LINE: {contact}
- Email: {email}
- 期望時間: {preferred_time}

備註: {notes}

---
此預約來自 AI 選校顧問系統
```

### 匯出位置
- `n8n/workflows/booking.json`

## Dependencies

- [ ] Task 003: 主 Workflow（CTA 連結）

## Effort Estimate

- Size: S
- Hours: 1
- Parallel: false

## Definition of Done

- [x] 預約表單可正常提交
- [x] 顧問收到 Email 通知
- [x] 確認頁顯示正確
- [x] Workflow JSON 已匯出備份

## 實作說明

Workflow 已匯出至 `n8n/workflows/booking.json`

### 匯入 n8n 步驟：
1. 在 n8n 介面點擊 Import Workflow
2. 選擇 JSON 檔案或貼上內容
3. 設定 SMTP Credential
4. 更新 `fromEmail` 和 `toEmail` 為實際地址
5. 將 `MAIN_FORM_URL_HERE` 替換為主推薦表單連結
6. 啟用 Workflow 進行測試

### 與主 Workflow 整合：
在 `main-recommendation.json` 中將 `BOOKING_URL_HERE` 替換為此預約表單的 URL
